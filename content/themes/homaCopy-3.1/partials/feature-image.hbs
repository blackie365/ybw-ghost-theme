{{!--
  Feature Image
  ------------
  Responsive image component with lazy loading and caption support.

  Parameters:
  * class: CSS classes for figure element
  * img_class: CSS classes for img element
  * href: Makes image clickable (optional)
  * caption_class: CSS classes for figcaption element
  Breakpoints:
  s: 320w, m: 600w, l: 960w, xl: 1200w, xxl: 2000w
--}}

{{#if feature_image}}
  <figure class="relative {{class}}">
    <img
      alt="{{title}}"
      class="{{img_class}}"
      loading="lazy"
      src="{{img_url feature_image size="m"}}" 
      srcset="{{img_url feature_image size=" s"}} 320w, 
              {{img_url feature_image size="m" }} 600w, 
              {{img_url feature_image size="l" }} 960w, 
              {{img_url feature_image size="xl" }} 1200w, 
              {{img_url feature_image size="xxl" }} 2000w"
    >
    {{#if feature_image_caption}}
      <figcaption class="{{caption_class}}">{{feature_image_caption}}</figcaption>
    {{/if}}
    {{#if href}}
      <a href="{{href}}" class="absolute inset-0 z-10"></a>
    {{/if}}
  </figure>
{{/if}}